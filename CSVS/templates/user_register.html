{% extends 'main.html' %}

{% block content %}

<style>
	.profile-pic {
		max-width: 200px;
		max-height: 200px;
		margin: 0 auto;
		border-radius: 50%;
	}
</style>

<br>
<div class="row">
	<div class="col-md-3">
		<div class="card card-body">
			<a class="btn btn-warning" href=""> &#8592; Voltar ao perfil</a>
			<hr>
			<h3 style="text-align: center">Perfil do Usu√°rio</h3>
			<h3 id="manager-name" class="d-none">{{manager}}</h3>
			<hr>
			<img class="profile-pic" src="{{request.user.profile.profile_pic.url}}">

		</div>
	</div>
	<div class="col-md-9">
		<div class="card card-body">

			<div class="d-flex  form_container">
			 <form method="POST" action="">
					{% csrf_token %}
					<div class="input-group mb-3">
						<div class="input-group-append">
							<span class="input-group-text"><i class="fas fa-user"></i></span>
						</div>
						{{form.username}}
					</div>
					<div class="input-group mb-2">
						<div class="input-group-append">
							<span class="input-group-text"><i class="fas fa-envelope-square"></i></span>
						</div>
						{{form.email}}
					</div>
					<div class="input-group mb-2">
						<div class="input-group-append">
							<span class="input-group-text"><i class="fas fa-key"></i></span>
						</div>
						{{form.password1}}
					</div>
					<div class="input-group mb-2">
						<div class="input-group-append">
							<span class="input-group-text"><i class="fas fa-key"></i></span>
						</div>
						{{form.password2}}
					</div>

					<div class="d-flex justify-content-center mt-3 login_container">
						<input class="btn btn-primary" type="submit" value="Registar Conta">
					</div>
				</form>
			</div>
			{{form.errors}}
			<br>
		</div>
	</div>
</div>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css"
integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">

<script>
	/* Because i didnt set placeholder values in forms.py they will be set here using vanilla Javascript
	//We start indexing at one because CSRF_token is considered and input field 
	 */

	//Query All input fields
	const input_manager = document.getElementById('manager-name')
	
	// console.log('input',input.textContent)
	// alert(input.textContent)
	var form_fields = document.getElementsByTagName('input')
	form_fields[1].value = input_manager.textContent;
	form_fields[2].placeholder = 'Email..';
	form_fields[3].placeholder = 'Digite a senha...';
	form_fields[4].placeholder = 'Confirme a senha...';

	for (var field in form_fields) {
		form_fields[field].className += ' form-control'
	}
</script>
{% endblock %}